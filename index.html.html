<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FFE6EF">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="wechat-webview-api-version" content="1.0">
    <title>ç»™åƒé’°çš„é’æ˜¥å‘Šç™½ ğŸ’˜</title>
    <!-- å¤–éƒ¨èµ„æº -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- é’æ˜¥å…ƒæ°”æ‰‹å†™å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    <!-- è½»é‡ç²’å­åº“ -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <style type="text/tailwindcss">
        @layer utilities {
            /* è‡ªå®šä¹‰å·¥å…·ç±» */
            .font-youth { font-family: 'ZCOOL KuaiLe', cursive; }
            .text-shadow-soft { text-shadow: 0 1px 4px rgba(255, 174, 201, 0.5); }
            .bg-gradient-youth { 
                background: linear-gradient(135deg, #FFE6EF 0%, #E0F7FF 50%, #FFF9E8 100%); 
            }
            .perspective-800 { perspective: 800px; }
            .shadow-soft { box-shadow: 0 8px 24px rgba(255, 159, 185, 0.2); }
            
            /* é’æ˜¥æ„ŸåŠ¨ç”» */
            .animate-envelope-light { animation: envelopeLight 1.5s ease-out forwards; }
            .animate-flap-light { animation: flapLight 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
            .animate-paper-slide { animation: paperSlide 1.8s ease-in-out forwards; }
            .animate-text-pop { animation: textPop 0.4s ease forwards; }
            .animate-heart-light { animation: heartLight 7s ease-in-out infinite; }
            .animate-bubble { animation: bubble 4s ease-in-out infinite alternate; }

            /* åŠ¨ç”»å…³é”®å¸§ï¼ˆæ›´è½»ç›ˆçµåŠ¨ï¼‰ */
            @keyframes envelopeLight {
                0% { transform: rotateY(10deg) scale(0.95) opacity(0); }
                100% { transform: rotateY(0) scale(1) opacity(1); }
            }
            @keyframes flapLight {
                0% { transform: rotateX(0); }
                100% { transform: rotateX(180deg) translateY(-8px); }
            }
            @keyframes paperSlide {
                0% { transform: translateY(30px) opacity(0); }
                100% { transform: translateY(0) opacity(1); }
            }
            @keyframes textPop {
                0% { opacity: 0; transform: translateY(8px) scale(0.95); }
                100% { opacity: 1; transform: translateY(0) scale(1); }
            }
            @keyframes heartLight {
                0% { transform: translateY(-10vh) rotate(0deg) scale(0.9) opacity(0); }
                15% { opacity: 1; }
                50% { transform: translateY(40vh) rotate(180deg) scale(1.05); }
                85% { opacity: 1; }
                100% { transform: translateY(100vh) rotate(360deg) scale(0.95); opacity(0); }
            }
            @keyframes bubble {
                0% { transform: scale(0.9) translateY(2px); }
                100% { transform: scale(1.05) translateY(-2px); }
            }
        }
    </style>
</head>
<body class="bg-gradient-youth min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden">
    <!-- è½»é‡ç²’å­èƒŒæ™¯ï¼ˆå°çˆ±å¿ƒ+æ°”æ³¡ï¼‰ -->
    <div id="particles-js" class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- æ¢¦å¹»æ°”æ³¡è£…é¥° -->
    <div class="fixed inset-0 pointer-events-none z-0">
        <div class="absolute w-4 h-4 bg-white/60 rounded-full animate-bubble" style="top: 15%; left: 10%; animation-delay: 0s;"></div>
        <div class="absolute w-6 h-6 bg-white/50 rounded-full animate-bubble" style="top: 30%; left: 85%; animation-delay: 0.8s;"></div>
        <div class="absolute w-3 h-3 bg-white/70 rounded-full animate-bubble" style="top: 70%; left: 30%; animation-delay: 0.4s;"></div>
        <div class="absolute w-5 h-5 bg-white/40 rounded-full animate-bubble" style="top: 85%; left: 75%; animation-delay: 1.2s;"></div>
    </div>

    <!-- é’æ˜¥æ„Ÿä¿¡å°ï¼ˆç®€çº¦æ¸…æ–°ï¼‰ -->
    <div class="perspective-800 mb-8 z-10">
        <div class="envelope relative w-[85vw] max-w-[400px] h-[50vh] max-h-[320px] bg-pink-200 rounded-b-lg shadow-soft cursor-pointer transform transition-all duration-700 hover:shadow-pink-200/40" id="envelope">
            <!-- ä¿¡å°è´è¶ç»“ï¼ˆæ›¿ä»£å°èœ¡ï¼Œæ›´é’æ˜¥ï¼‰ -->
            <div class="bow absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/4 z-20">
                <div class="bow-center w-6 h-6 bg-pink-300 rounded-full flex items-center justify-center">
                    <i class="fa fa-heart text-white text-sm"></i>
                </div>
                <div class="bow-left absolute top-1/2 -left-6 w-8 h-4 bg-pink-300 rounded-l-full transform -translate-y-1/2"></div>
                <div class="bow-right absolute top-1/2 -right-6 w-8 h-4 bg-pink-300 rounded-r-full transform -translate-y-1/2"></div>
            </div>
            <!-- ä¿¡å°ç›–ï¼ˆè½»ç›ˆç‰ˆï¼‰ -->
            <div class="envelope-flap absolute top-0 left-0 w-full h-full bg-pink-300 clip-path-polygon(0 0, 50% 50%, 100% 0) transform-origin: top center transition-transform duration-1200 ease-in-out z-10"></div>
            <!-- ä¿¡å°ä¾§é¢ï¼ˆæµ…è‰²ç³»ï¼‰ -->
            <div class="envelope-side-l absolute top-0 left-0 w-1/2 h-full bg-pink-100 rounded-l-b-lg"></div>
            <div class="envelope-side-r absolute top-0 right-0 w-1/2 h-full bg-pink-100 rounded-r-b-lg"></div>
            
            <!-- ä¿¡çº¸ï¼ˆæ¸…æ–°çº¹ç†ï¼‰ -->
            <div class="paper absolute inset-4 bg-white/95 rounded-b-lg p-6 flex flex-col items-center justify-center opacity-0 transition-all duration-1500 z-0" id="paper">
                <!-- æµ…çº¹ç†èƒŒæ™¯ -->
                <div class="absolute inset-0 bg-[url('https://picsum.photos/id/237/1000/1000')] opacity-3 mix-blend-multiply rounded-b-lg"></div>
                
                <!-- æ ‡é¢˜ï¼ˆé’æ˜¥å­—ä½“+é€å­—å¼¹å‡ºï¼‰ -->
                <h1 class="font-youth text-pink-500 text-[clamp(1.8rem,5vw,2.8rem)] mb-4 text-center text-shadow-soft opacity-0" id="title">
                    éƒ­åƒé’°è€å©†
                </h1>
                
                <!-- æ ¸å¿ƒå‘Šç™½ï¼ˆå…ƒæ°”å¼¹è·³ï¼‰ -->
                <p class="font-youth text-pink-400 text-[clamp(2.2rem,7vw,3.8rem)] mb-6 text-center animate-bubble text-shadow-soft opacity-0" id="confession">
                    æˆ‘çˆ±ä½  ğŸ’“
                </p>
                
                <!-- é’æ˜¥é£æƒ…è¯ -->
                <div class="w-full border-t border-pink-100 pt-4 opacity-0" id="words">
                    <p class="font-youth text-gray-600 text-[clamp(1rem,3.5vw,1.4rem)] text-center leading-relaxed">
                        é’æ˜¥é‡Œçš„å°å¹¸è¿ï¼Œæ˜¯é‡è§äº†ä½ <br>
                        æƒ³å’Œä½ ä¸€èµ·ï¼ŒæŠŠæ—¥å­è¿‡æˆç”œç”œçš„æ±½æ°´<br>
                        æˆ‘çš„æ»¡å¿ƒæ¬¢å–œï¼Œéƒ½æ˜¯å…³äºä½ å‘€ âœ¨
                    </p>
                </div>
                
                <!-- é’æ˜¥è£…é¥°ï¼ˆå°çˆ±å¿ƒ+æ˜Ÿæ˜Ÿï¼‰ -->
                <div class="mt-6 flex gap-3 opacity-0" id="decor">
                    <i class="fa fa-heart text-pink-400 text-lg animate-bubble" style="animation-delay: 0s;"></i>
                    <i class="fa fa-star text-yellow-300 text-lg animate-bubble" style="animation-delay: 0.3s;"></i>
                    <i class="fa fa-heart text-pink-300 text-lg animate-bubble" style="animation-delay: 0.6s;"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- é’æ˜¥æ„Ÿæç¤ºæ–‡å­— -->
    <p class="text-pink-500 text-center mb-2 animate-pulse font-youth text-[clamp(0.9rem,2.5vw,1.2rem)] z-10">
        æˆ³æˆ³ä¿¡å°ï¼Œæ¥æ”¶æˆ‘çš„å¿ƒåŠ¨ä¿¡å· ğŸ’Œ
    </p>

    <!-- é’æ˜¥æµªæ¼«èƒŒæ™¯éŸ³ä¹ï¼ˆå°å¹¸è¿ï¼‰ -->
    <audio id="bg-music" loop preload="auto" src="https://music.163.com/song/media/outer/url?id=1307368449.mp3">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script>
        // åˆå§‹åŒ–è½»é‡ç²’å­èƒŒæ™¯ï¼ˆå°çˆ±å¿ƒ+ä½é¥±å’Œåº¦ï¼‰
        particlesJS("particles-js", {
            particles: {
                number: { value: 40, density: { enable: true, value_area: 900 } },
                color: { value: ["#FFC2D1", "#FFB3C6", "#E8E8E8"] },
                shape: { type: ["heart", "circle"] },
                opacity: { value: 0.5, random: true },
                size: { value: 6, random: true },
                line_linked: { enable: false },
                move: {
                    enable: true,
                    speed: 0.8, // æ›´æ…¢æ›´è½»ç›ˆ
                    direction: "none",
                    random: true,
                    straight: false,
                    out_mode: "out",
                    bounce: true // è½»å¾®å¼¹è·³æ›´é’æ˜¥
                }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "bubble" }, // æ‚¬æµ®å‡ºæ°”æ³¡
                    onclick: { enable: true, mode: "push" },
                    resize: true
                },
                modes: {
                    bubble: { distance: 120, size: 8, duration: 2, opacity: 0.7 },
                    push: { particles_nb: 3 }
                }
            },
            retina_detect: true
        });

        // æ ¸å¿ƒäº¤äº’é€»è¾‘
        const envelope = document.getElementById("envelope");
        const envelopeFlap = document.querySelector(".envelope-flap");
        const paper = document.getElementById("paper");
        const title = document.getElementById("title");
        const confession = document.getElementById("confession");
        const words = document.getElementById("words");
        const decor = document.getElementById("decor");
        const bgMusic = document.getElementById("bg-music");

        // å¾®ä¿¡å…¼å®¹éŸ³é¢‘æ’­æ”¾
        function playMusic() {
            try {
                bgMusic.volume = 0.4; // æ›´è½»æŸ”çš„éŸ³é‡
                document.addEventListener("touchstart", () => {
                    bgMusic.play().catch(err => console.log("éŸ³é¢‘éœ€ç‚¹å‡»æˆæƒï¼š", err));
                }, { once: true });
            } catch (e) {
                console.log("éŸ³é¢‘åŠ è½½å¤±è´¥ï¼š", e);
            }
        }

        // é€å­—å¼¹å‡ºæ–‡å­—ï¼ˆé’æ˜¥èŠ‚å¥ï¼‰
        function revealText(element, delay = 0) {
            const text = element.innerText;
            element.innerText = "";
            let index = 0;
            
            setTimeout(() => {
                const interval = setInterval(() => {
                    if (index < text.length) {
                        element.innerText += text.charAt(index);
                        index++;
                    } else {
                        clearInterval(interval);
                    }
                }, 80); // æ›´å¿«æ›´å…ƒæ°”
            }, delay);
        }

        // ä¿¡å°ç‚¹å‡»äº‹ä»¶ï¼ˆè½»ç›ˆäº¤äº’ï¼‰
        envelope.addEventListener("click", () => {
            // ä¿¡å°ç›–æ‰“å¼€
            envelopeFlap.classList.add("animate-flap-light");
            
            // ä¿¡çº¸æ»‘å‡º
            setTimeout(() => {
                paper.classList.add("animate-paper-slide", "opacity-100");
                
                // é€å­—æ˜¾ç¤ºæ ‡é¢˜
                title.classList.add("animate-text-pop", "opacity-100");
                revealText(title, 200);
                
                // æ˜¾ç¤ºå‘Šç™½æ–‡å­—
                setTimeout(() => {
                    confession.classList.add("animate-text-pop", "opacity-100");
                    
                    // æ˜¾ç¤ºæƒ…è¯
                    setTimeout(() => {
                        words.classList.add("animate-text-pop", "opacity-100");
                        
                        // æ˜¾ç¤ºè£…é¥°
                        setTimeout(() => {
                            decor.classList.add("animate-text-pop", "opacity-100");
                        }, 600);
                    }, 600);
                }, 600);
            }, 600);

            // ç”Ÿæˆè½»ç›ˆé£˜è½çˆ±å¿ƒ
            createLightHearts();
            
            // æ’­æ”¾éŸ³ä¹
            playMusic();
            
            // é˜²æ­¢é‡å¤ç‚¹å‡»
            envelope.style.pointerEvents = "none";
        });

        // é’æ˜¥é£çˆ±å¿ƒé£˜è½ï¼ˆæ›´è½»ç›ˆã€é©¬å¡é¾™è‰²ï¼‰
        function createLightHearts() {
            const heartCount = 35;
            const container = document.body;

            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement("div");
                const size = Math.random() * 20 + 8; // æ›´å°æ›´ç²¾è‡´
                const left = Math.random() * 100;
                const delay = Math.random() * 12;
                // é©¬å¡é¾™è‰²ç³»
                const colors = ["#FFC2D1", "#FFB3C6", "#FFE5EC", "#E0F7FF"];
                const color = colors[Math.floor(Math.random() * colors.length)];
                const rotate = Math.random() * 360;

                heart.style.cssText = `
                    position: absolute;
                    left: ${left}%;
                    top: -10%;
                    font-size: ${size}px;
                    color: ${color};
                    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
                    transform: rotate(${rotate}deg);
                    z-index: 0;
                    pointer-events: none;
                `;
                heart.innerHTML = '<i class="fa fa-heart"></i>';
                heart.classList.add("animate-heart-light");
                
                container.appendChild(heart);

                // è‡ªåŠ¨æ¸…ç†
                setTimeout(() => {
                    heart.remove();
                }, 7000 + delay * 1000);
            }

            // æŒç»­ç”Ÿæˆï¼ˆæ›´æ…¢æ›´è½»æŸ”ï¼‰
            const heartInterval = setInterval(() => {
                for (let i = 0; i < 4; i++) {
                    const heart = document.createElement("div");
                    const size = Math.random() * 20 + 8;
                    const left = Math.random() * 100;
                    const delay = Math.random() * 6;
                    const colors = ["#FFC2D1", "#FFB3C6", "#FFE5EC", "#E0F7FF"];
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const rotate = Math.random() * 360;

                    heart.style.cssText = `
                        position: absolute;
                        left: ${left}%;
                        top: -10%;
                        font-size: ${size}px;
                        color: ${color};
                        text-shadow: 0 1px 2px rgba(0,0,0,0.1);
                        transform: rotate(${rotate}deg);
                        z-index: 0;
                        pointer-events: none;
                    `;
                    heart.innerHTML = '<i class="fa fa-heart"></i>';
                    heart.classList.add("animate-heart-light");
                    
                    container.appendChild(heart);

                    setTimeout(() => {
                        heart.remove();
                    }, 7000 + delay * 1000);
                }
            }, 7000);

            // 1.5åˆ†é’Ÿååœæ­¢
            setTimeout(() => {
                clearInterval(heartInterval);
            }, 90000);
        }

        // é¡µé¢åŠ è½½åŠ¨ç”»ï¼ˆæ›´è½»æŸ”ï¼‰
        window.addEventListener("load", () => {
            envelope.classList.add("animate-envelope-light");
            bgMusic.load();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</body>
</html>
